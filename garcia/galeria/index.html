<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <div class="close" onclick="closeCard()"></div>
    <section class="topo">
        <img src="img/arvore.png" alt="Arvore">
        <div class="informacoes">
            <div class="titulo">
                <h1>Galeria GW</h1>
                <p onclick="solicitarCPF()">Seguir</p>
                <p>Enviar mensageeeem</p>
            </div>
            <div class="subtitulo">
                <h3><span>35</span> Publica√ß√µes</h3>
                <h3><span>3726</span> Seguidores</h3>
                <h3><span>203</span> Seguindo</h3>
            </div>
            <div class="descricao">
                <h3>Galeria T4</h3>
                <p>
                    üå≥ Tipuanas pelo caminhooooo <br>
                    üì∏ Um olhar po√©tico sobre a beleza das Tipuanas <br>
                    üíõ Flores amarelas, sombras acolhedoras e hist√≥rias que o vento conta <br>
                    üìçCenas urbanas & naturais <br>
                    #Tipuana #NaturezaUrbana #√ÅrvoreDaVida
                </p>
            </div>
        </div>
    </section>
    <section class="pub">
        <div class="focof" id="focus">
            <div class="foco">
                <div class="img">
                    <img src="img/arvore.png" alt="" class="igm">
                </div>
                <div class="lateral">
                    <div class="linha1">
                        <img src="img/arvore.png" alt="" class="igm">
                        <h3>Entre Luzes e Folhagens</h3>
                        <ion-icon name="ellipsis-horizontal"></ion-icon>
                    </div>
                    <div class="linha2">
                        <img src="img/arvore.png" alt="" class="igm">
                        <div class="linha2-text">
                            <p><strong>Entre Luzes e Folhagens</strong> üå≥ A imagem captura uma cena ensolarada em um espa√ßo p√∫blico, com uma Tipuana imponente, galhos escuros e retorcidos ‚Äî alguns cobertos de musgo ‚Äî que espalham sombras √∫nicas no ch√£o.<br>
                                As folhas verde-claras permitem que a luz do sol da tarde passe, criando um belo efeito de luz e sombra no ch√£o da pra√ßa. ‚ú®<br><br>
                                
                                üìç Pra√ßa da Catedral ‚Äì Santa Cruz do Sul, RS<br>
                                üå≥ Tipuana frondosa com galhos escuros e retorcidos<br>
                                üåø Musgos e ep√≠fitas nos galhos, indicando umidade<br>
                                ‚òÄÔ∏è Folhas verde-claras que filtram a luz do sol<br>
                                ‚ú® Efeito de luz e sombra no ch√£o da pra√ßa</p>
                            <p class="link">#Tipuanas #SantaCruzdoSul #TunelVerde #MeioAmbiente #ViverAqui√âBomDeMais</p>
                            
                        </div>
                    </div>
                    <div class="linha3">
                        <div class="fun-icons">
                            <button>
                                <ion-icon name="heart-outline"></ion-icon>
                            </button>
                            <ion-icon name="chatbubble-outline"></ion-icon>
                            <ion-icon name="paper-plane-outline"></ion-icon>
                            <ion-icon name="bookmark-outline"></ion-icon>
                        </div>
                        <h3>--- curtidas</h3>
                        <p>h√° 1 dia</p>
                        <div class="comentar">
                            <ion-icon name="happy-outline"></ion-icon>
                            <input type="text" placeholder="Adicione um coment√°rio...">
                            <p>Postar</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <img src="img/arvore.png" alt="Arvore" onclick="open(this)"> -->
    </section>



    <!--! Script JS -->
    <script src="lista.js"></script>
    <script src="main.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script type="module" src="link.js"></script>
</body>



<script type="module">
import { db } from './link.js';
import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

async function solicitarCPF() {
    let cpf = prompt("Digite seu CPF:");
    if (!cpf) return;
    cpf = cpf.replace(/\D/g, '');
    // Verifica se o CPF tem 11 d√≠gitos
    if (cpf.length !== 11) {
        alert("CPF inv√°lido. Deve conter 11 d√≠gitos.");
        return;
    }
    // Verifica se todos os d√≠gitos s√£o iguais
    if (/^(\d)\1{10}$/.test(cpf)) {
        alert("CPF inv√°lido. Todos os d√≠gitos s√£o iguais.");
        return;
    }
    // Valida√ß√£o do CPF
    let soma = 0;
    let peso = 10;
    for (let i = 0; i < 9; i++) {
        soma += parseInt(cpf[i]) * peso--;
    }
    let primeiroDigitoVerificador = (soma * 10) % 11;
    if (primeiroDigitoVerificador === 10) primeiroDigitoVerificador = 0;
    if (parseInt(cpf[9]) !== primeiroDigitoVerificador) {
        alert("CPF inv√°lido.");
        return;
    }
    soma = 0;
    peso = 11;
    for (let i = 0; i < 10; i++) {
        soma += parseInt(cpf[i]) * peso--;
    }
    let segundoDigitoVerificador = (soma * 10) % 11;
    if (segundoDigitoVerificador === 10) segundoDigitoVerificador = 0;
    if (parseInt(cpf[10]) !== segundoDigitoVerificador) {
        alert("CPF inv√°lido.");
        return;
    }
    // Verifica se o CPF j√° foi usado (localStorage)
    if (localStorage.getItem("cpf_usado") === cpf) {
        alert("CPF j√° foi usado para votar.");
        return;
    }
    // Salva o CPF como usado
    localStorage.setItem("cpf_usado", cpf);
    alert("CPF v√°lido: " + cpf);
    // Salva no Firestore
    try {
        await addDoc(collection(db, "cpfs_validos"), { cpf: cpf, data: new Date().toISOString() });
    } catch (e) {
        alert("Erro ao salvar no banco de dados: " + e);
    }
}
</script>




</html>